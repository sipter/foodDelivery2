{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/food_delivery2/frontend/src/components/ShoppingCart.jsx\";\nimport React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Divider from \"@mui/material/Divider\";\nimport { Button, Typography, Card, CardActions, CardContent, ButtonGroup } from \"@mui/material\";\nimport _ from \"lodash\";\nimport { v4 as uuid } from \"uuid\";\nimport { useNavigate } from \"react-router-dom\"; // export const ItemsContext = React.createContext({\n//   shoppingCartProducts: {},\n//   setShoppingCartProducts: () => {}\n// });\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShoppingCart(_ref) {\n  let {\n    isCartOpen,\n    toggleCart,\n    products,\n    reset,\n    addItemToCart,\n    removeItemFromCart,\n    openCheckout,\n    currentUserId\n  } = _ref;\n  //const navigate = useNavigate();\n  const finalPrice = products.reduce((acc, product) => acc + product.price, 0);\n\n  const groupedProducts = _.groupBy(products, item => item.name); // products.map((item)=>{item.name}) //{\"banana\":[{}], \"tomato\":[\"tomato\"]}\n\n\n  const commonStyles = {\n    bgcolor: \"background.paper\",\n    m: 1,\n    borderColor: \"text.primary\",\n    width: \"5rem\",\n    height: \"5rem\"\n  };\n\n  const handleOrderNow = () => {\n    toggleCart();\n    fetch(process.env.REACT_APP_SERVER_URL + `/users/${currentUserId}/orders`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(Object.keys(groupedProducts).reduce((acc, x) => ({ ...acc,\n        x: groupedProducts[x].length\n      }), {}))\n    });\n  }; // add plus one for the item\n  //const groupedId = _.groupBy(products, (item) => item.id);\n\n\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    anchor: \"right\",\n    open: isCartOpen,\n    onClose: toggleCart,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: { ...commonStyles,\n        borderBottom: 1,\n        width: 300\n      },\n      children: [Object.keys(groupedProducts).map((group, index) => {\n        let count = groupedProducts[group].length;\n        return /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"none\",\n          sx: {\n            marginBottom: 1,\n            height: \"90px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              component: \"div\",\n              sx: {\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"flex\",\n                  flexGrow: 1\n                },\n                children: [`${count}x`, \" \", group, \" \\xA0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"flex\"\n                },\n                children: [\"$\", groupedProducts[group].reduce((acc, item) => acc + item.price, 0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                disableElevation: true,\n                variant: \"contained\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => removeItemFromCart(groupedProducts[group][0]),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => addItemToCart({ ...groupedProducts[group][0],\n                    id: uuid()\n                  }),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) // <ListItemText key={index}>\n        //   {group} {count} &nbsp;\n        //   {groupedProducts[group].reduce((acc, item) => acc + item.price, 0)}\n        // </ListItemText>\n        ;\n      }), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        variant: \"none\",\n        sx: {\n          marginBottom: 1,\n          height: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"div\",\n            sx: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: \"flex\",\n                flexGrow: 1\n              },\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: \"flex\"\n              },\n              children: finalPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: reset,\n              variant: \"contained\",\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleOrderNow,\n              variant: \"contained\",\n              children: \"Order now!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n} // open={state[\"right\"]}\n// onClose={toggleDrawer(\"right\", false)}\n\n_c = ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"sources":["/home/user/Desktop/food_delivery2/frontend/src/components/ShoppingCart.jsx"],"names":["React","Box","Drawer","Divider","Button","Typography","Card","CardActions","CardContent","ButtonGroup","_","v4","uuid","useNavigate","ShoppingCart","isCartOpen","toggleCart","products","reset","addItemToCart","removeItemFromCart","openCheckout","currentUserId","finalPrice","reduce","acc","product","price","groupedProducts","groupBy","item","name","commonStyles","bgcolor","m","borderColor","width","height","handleOrderNow","fetch","process","env","REACT_APP_SERVER_URL","method","headers","body","JSON","stringify","Object","keys","x","length","borderBottom","map","group","index","count","marginBottom","display","flexGrow","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SACEC,MADF,EAEEC,UAFF,EAGEC,IAHF,EAIEC,WAJF,EAKEC,WALF,EAMEC,WANF,QAOO,eAPP;AAQA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,SAASC,WAAT,QAA4B,kBAA5B,C,CACA;AACA;AACA;AACA;;;AAEA,eAAe,SAASC,YAAT,OASZ;AAAA,MATkC;AACnCC,IAAAA,UADmC;AAEnCC,IAAAA,UAFmC;AAGnCC,IAAAA,QAHmC;AAInCC,IAAAA,KAJmC;AAKnCC,IAAAA,aALmC;AAMnCC,IAAAA,kBANmC;AAOnCC,IAAAA,YAPmC;AAQnCC,IAAAA;AARmC,GASlC;AACD;AACA,QAAMC,UAAU,GAAGN,QAAQ,CAACO,MAAT,CAAgB,CAACC,GAAD,EAAMC,OAAN,KAAkBD,GAAG,GAAGC,OAAO,CAACC,KAAhD,EAAuD,CAAvD,CAAnB;;AACA,QAAMC,eAAe,GAAGlB,CAAC,CAACmB,OAAF,CAAUZ,QAAV,EAAqBa,IAAD,IAAUA,IAAI,CAACC,IAAnC,CAAxB,CAHC,CAGiE;;;AAElE,QAAMC,YAAY,GAAG;AACnBC,IAAAA,OAAO,EAAE,kBADU;AAEnBC,IAAAA,CAAC,EAAE,CAFgB;AAGnBC,IAAAA,WAAW,EAAE,cAHM;AAInBC,IAAAA,KAAK,EAAE,MAJY;AAKnBC,IAAAA,MAAM,EAAE;AALW,GAArB;;AAQA,QAAMC,cAAc,GAAG,MAAM;AAC3BtB,IAAAA,UAAU;AACVuB,IAAAA,KAAK,CACHC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,GAAoC,UAASpB,aAAc,SADxD,EAEH;AAACqB,MAAAA,MAAM,EAAE,MAAT;AACAC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OADT;AAIAC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACJC,MAAM,CAACC,IAAP,CAAYrB,eAAZ,EAA6BJ,MAA7B,CAAoC,CAACC,GAAD,EAAMyB,CAAN,MAAa,EAAC,GAAGzB,GAAJ;AAASyB,QAAAA,CAAC,EAAEtB,eAAe,CAACsB,CAAD,CAAf,CAAmBC;AAA/B,OAAb,CAApC,EAA0F,EAA1F,CADI;AAJN,KAFG,CAAL;AAUD,GAZD,CAbC,CA2BD;AACA;;;AACA,sBACE,QAAC,MAAD;AAAQ,IAAA,MAAM,EAAE,OAAhB;AAAyB,IAAA,IAAI,EAAEpC,UAA/B;AAA2C,IAAA,OAAO,EAAEC,UAApD;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAE,GAAGgB,YAAL;AAAmBoB,QAAAA,YAAY,EAAE,CAAjC;AAAoChB,QAAAA,KAAK,EAAE;AAA3C,OAAT;AAAA,iBACGY,MAAM,CAACC,IAAP,CAAYrB,eAAZ,EAA6ByB,GAA7B,CAAiC,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAClD,YAAIC,KAAK,GAAG5B,eAAe,CAAC0B,KAAD,CAAf,CAAuBH,MAAnC;AAEA,4BACE,QAAC,IAAD;AACE,UAAA,OAAO,EAAC,MADV;AAEE,UAAA,EAAE,EAAE;AACFM,YAAAA,YAAY,EAAE,CADZ;AAEFpB,YAAAA,MAAM,EAAE;AAFN,WAFN;AAAA,iCAQE,QAAC,WAAD;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,SAAS,EAAC,KAAtB;AAA4B,cAAA,EAAE,EAAE;AAAEqB,gBAAAA,OAAO,EAAE;AAAX,eAAhC;AAAA,sCACE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE;AAAEA,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,QAAQ,EAAE;AAA7B,iBAAT;AAAA,2BACI,GAAEH,KAAM,GADZ,OACiBF,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAKE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE;AAAEI,kBAAAA,OAAO,EAAE;AAAX,iBAAT;AAAA,gCAEG9B,eAAe,CAAC0B,KAAD,CAAf,CAAuB9B,MAAvB,CACC,CAACC,GAAD,EAAMK,IAAN,KAAeL,GAAG,GAAGK,IAAI,CAACH,KAD3B,EAEC,CAFD,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAeE,QAAC,WAAD;AAAA,qCACE,QAAC,WAAD;AAAa,gBAAA,gBAAgB,MAA7B;AAA8B,gBAAA,OAAO,EAAC,WAAtC;AAAA,wCACE,QAAC,MAAD;AACE,kBAAA,OAAO,EAAE,MACPP,kBAAkB,CAACQ,eAAe,CAAC0B,KAAD,CAAf,CAAuB,CAAvB,CAAD,CAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAQE,QAAC,MAAD;AACE,kBAAA,OAAO,EAAE,MACPnC,aAAa,CAAC,EACZ,GAAGS,eAAe,CAAC0B,KAAD,CAAf,CAAuB,CAAvB,CADS;AAEZM,oBAAAA,EAAE,EAAEhD,IAAI;AAFI,mBAAD,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF,WAMO2C,KANP;AAAA;AAAA;AAAA;AAAA,gBADF,CAgDE;AACA;AACA;AACA;AAnDF;AAqDD,OAxDA,CADH,eA2DE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cA3DF,eA6DE,QAAC,IAAD;AACE,QAAA,OAAO,EAAC,MADV;AAEE,QAAA,EAAE,EAAE;AACFE,UAAAA,YAAY,EAAE,CADZ;AAEFpB,UAAAA,MAAM,EAAE;AAFN,SAFN;AAAA,+BAOE,QAAC,WAAD;AAAA,kCACE,QAAC,UAAD;AAAY,YAAA,SAAS,EAAC,KAAtB;AAA4B,YAAA,EAAE,EAAE;AAAEqB,cAAAA,OAAO,EAAE;AAAX,aAAhC;AAAA,oCACE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE;AAAEA,gBAAAA,OAAO,EAAE,MAAX;AAAmBC,gBAAAA,QAAQ,EAAE;AAA7B,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE;AAAED,gBAAAA,OAAO,EAAE;AAAX,eAAT;AAAA,wBAA+BnC;AAA/B;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE,QAAC,WAAD;AAAA,oCACE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEL,KAAjB;AAAwB,cAAA,OAAO,EAAC,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEoB,cAAjB;AAAiC,cAAA,OAAO,EAAC,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,cA7DF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAwFD,C,CACD;AACA;;KAhIwBxB,Y","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Divider from \"@mui/material/Divider\";\nimport {\n  Button,\n  Typography,\n  Card,\n  CardActions,\n  CardContent,\n  ButtonGroup,\n} from \"@mui/material\";\nimport _ from \"lodash\";\nimport { v4 as uuid } from \"uuid\";\nimport { useNavigate } from \"react-router-dom\";\n// export const ItemsContext = React.createContext({\n//   shoppingCartProducts: {},\n//   setShoppingCartProducts: () => {}\n// });\n\nexport default function ShoppingCart({\n  isCartOpen,\n  toggleCart,\n  products,\n  reset,\n  addItemToCart,\n  removeItemFromCart,\n  openCheckout,\n  currentUserId,\n}) {\n  //const navigate = useNavigate();\n  const finalPrice = products.reduce((acc, product) => acc + product.price, 0);\n  const groupedProducts = _.groupBy(products, (item) => item.name); // products.map((item)=>{item.name}) //{\"banana\":[{}], \"tomato\":[\"tomato\"]}\n\n  const commonStyles = {\n    bgcolor: \"background.paper\",\n    m: 1,\n    borderColor: \"text.primary\",\n    width: \"5rem\",\n    height: \"5rem\",\n  };\n\n  const handleOrderNow = () => {\n    toggleCart();\n    fetch(\n      process.env.REACT_APP_SERVER_URL + `/users/${currentUserId}/orders`,\n      {method: \"POST\", \n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(\n        Object.keys(groupedProducts).reduce((acc, x) => ({...acc, x: groupedProducts[x].length}), {})\n      )}\n    )\n  }\n\n  // add plus one for the item\n  //const groupedId = _.groupBy(products, (item) => item.id);\n  return (\n    <Drawer anchor={\"right\"} open={isCartOpen} onClose={toggleCart}>\n      <Box sx={{ ...commonStyles, borderBottom: 1, width: 300 }}>\n        {Object.keys(groupedProducts).map((group, index) => {\n          let count = groupedProducts[group].length;\n\n          return (\n            <Card\n              variant=\"none\"\n              sx={{\n                marginBottom: 1,\n                height: \"90px\",\n              }}\n              key={index}\n            >\n              <CardContent>\n                <Typography component=\"div\" sx={{ display: \"flex\" }}>\n                  <Box sx={{ display: \"flex\", flexGrow: 1 }}>\n                    {`${count}x`} {group} &nbsp;\n                  </Box>\n\n                  <Box sx={{ display: \"flex\" }}>\n                    $\n                    {groupedProducts[group].reduce(\n                      (acc, item) => acc + item.price,\n                      0\n                    )}\n                  </Box>\n                </Typography>\n\n                <CardActions>\n                  <ButtonGroup disableElevation variant=\"contained\">\n                    <Button\n                      onClick={() =>\n                        removeItemFromCart(groupedProducts[group][0])\n                      }\n                    >\n                      -\n                    </Button>\n                    <Button\n                      onClick={() =>\n                        addItemToCart({\n                          ...groupedProducts[group][0],\n                          id: uuid(),\n                        })\n                      }\n                    >\n                      +\n                    </Button>\n                  </ButtonGroup>\n                </CardActions>\n              </CardContent>\n            </Card>\n\n            // <ListItemText key={index}>\n            //   {group} {count} &nbsp;\n            //   {groupedProducts[group].reduce((acc, item) => acc + item.price, 0)}\n            // </ListItemText>\n          );\n        })}\n\n        <Divider />\n\n        <Card\n          variant=\"none\"\n          sx={{\n            marginBottom: 1,\n            height: \"100px\",\n          }}\n        >\n          <CardContent>\n            <Typography component=\"div\" sx={{ display: \"flex\" }}>\n              <Box sx={{ display: \"flex\", flexGrow: 1 }}>Total:</Box>\n              <Box sx={{ display: \"flex\" }}>{finalPrice}</Box>\n            </Typography>\n            <CardActions>\n              <Button onClick={reset} variant=\"contained\">\n                Clear\n              </Button>\n              <Button onClick={handleOrderNow} variant=\"contained\">\n                Order now!\n              </Button>\n            </CardActions>\n          </CardContent>\n        </Card>\n      </Box>\n    </Drawer>\n  );\n}\n// open={state[\"right\"]}\n// onClose={toggleDrawer(\"right\", false)}\n"]},"metadata":{},"sourceType":"module"}